<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Projet Image - Compression basée superpixels</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet">
        <link href="style.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="segmentation.js"></script>
        <script src="script.js"></script>
    </head>
    <body>

        <div class="container my-5">
            <h1 class="h1 text-center">Compression basée superpixels</h1>
            <h2 class="h2 text-center">Paramètres de segmentation</h1>
            <div class="d-flex justify-content-center">
                <div class="row btn-row">
                    <div class="col">
                        <button id="segmentationSLIC" type="button" class="btn btn-success segmentationSelect">SLIC</button>
                        <button id="segmentationFH" type="button" class="btn btn-primary segmentationSelect">Felzenszwalb</button>
                        <button id="segmentationQS" type="button" class="btn btn-primary segmentationSelect">Quickshift</button>
                    </div>
                </div>
            </div>
            <div class="row w-100 mx-auto mt-3">
                <div class="form-group col d-flex">
                    <label for="segmentationParameter1" id="labelParameter1" class="col-form-label mr-2">Nombre de superpixels</label>
                    <div class="flex-grow-1">
                        <input type="number" class="form-control" id="segmentationParameter1" placeholder="0">
                    </div>
                </div>
                <div class="form-group col d-flex">
                    <label for="segmentationParameter2" id="labelParameter2" class="col-form-label mr-2">Seuil</label>
                    <div class="flex-grow-1">
                        <input type="number" class="form-control" id="segmentationParameter2" placeholder="0">
                    </div>
                </div>
            </div>

            <hr class="sectionDelimiter">

            <h2 class="h2 text-center">Image</h1>
            <div class="row m-2 d-flex align-items-center">
                <div class="col-5">
                    <div id="inputNoneBox" class="imageNone w-100 h-100 rounded rounded-2 d-flex justify-content-center align-items-center">
                        <i class="bi bi-upload text-secondary" style="font-size: 3em; line-height: 0;"></i>
                    </div>
                    <img id="inputImage" hidden class="w-100 h-100 rounded rounded-2">
                    <input type="file" id="inputUpload" hidden accept="Image/*" />
                </div>
                <div class="col-2 d-flex flex-column justify-content-center">
                    <div class="d-flex justify-content-center">
                        <i class="bi bi-arrow-right text-secondary" style="font-size: 5em; line-height: 0;"></i>
                    </div>
                    <button type="button" id="segmentButton" disabled class="btn btn-dark mx-2">Segmenter</button>
                </div>
                <div class="col-5">
                    <div class="imageNone w-100 h-100 rounded rounded-2 d-flex justify-content-center align-items-center">
                        <i class="bi bi-puzzle text-secondary" style="font-size: 3em; line-height: 0;"></i>
                    </div>
                    <canvas id="outputImage" hidden class="w-100 h-100 rounded rounded-2">
                </div>
            </div>

            <div hidden id="postSegmentation">
                <hr class="sectionDelimiter">

                <h2 class="h2 text-center">Données</h1>
                <div class="w-75 mx-auto row">
                    <div class="col text-center metric">PSNR : <strong id="psnrIndicator">0.000</strong> dB</div>
                    <div class="col text-center metric">SSIM : <strong id="ssimIndicator">0.000</strong></div>
                </div>

                <!--<hr class="sectionDelimiter">

                <h2 class="h2 text-center">Compression</h1>-->
            </div>
        </div>
    </body>
</html>